<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Nadezhda Miller ‚Äî Flashcards Store</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Nunito:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    /* === –°–û–í–†–ï–ú–ï–ù–ù–´–ï, –Ø–†–ö–ò–ï –°–¢–ò–õ–ò === */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --grad-orange: linear-gradient(135deg, #ff6b35, #f7931e);
      --grad-blue: linear-gradient(135deg, #4cc9f0, #4361ee);
      --grad-purple: linear-gradient(135deg, #7209b7, #3a0ca3);
      --grad-teal: linear-gradient(135deg, #4cc9a0, #2b9380);
      --shadow-light: 0 6px 16px rgba(247, 147, 30, 0.15);
      --shadow-deep: 0 10px 30px rgba(67, 97, 238, 0.2);
    }

    body {
      font-family: 'Nunito', sans-serif;
      background: linear-gradient(140deg, #fdfcfb 0%, #e2d1c3 100%);
      color: #2d3748;
      line-height: 1.6;
      overflow-x: hidden;
    }

    .container {
      max-width: 1240px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* === –Ø–†–ö–ê–Ø –®–ê–ü–ö–ê –° –ì–†–ê–î–ò–ï–ù–¢–û–ú === */
    header {
      background: var(--grad-orange);
      padding: 32px 0;
      text-align: center;
      border-radius: 0 0 24px 24px;
      box-shadow: var(--shadow-deep);
      position: relative;
      overflow: hidden;
    }

    header::before {
      content: '';
      position: absolute;
      top: -50px;
      right: -50px;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
    }

    header::after {
      content: '';
      position: absolute;
      bottom: -80px;
      left: 10%;
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.15);
    }

    header h1 {
      font-family: 'Poppins', sans-serif;
      font-size: 36px;
      font-weight: 700;
      color: white;
      text-shadow: 0 2px 4px rgba(0,0,0,0.15);
      position: relative;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    header p {
      font-size: 18px;
      color: rgba(255, 255, 255, 0.95);
      margin-top: 10px;
      font-weight: 400;
    }

    /* === –Ø–†–ö–ò–ï –ö–ê–†–¢–û–ß–ö–ò –° –ì–†–ê–î–ò–ï–ù–¢–û–ú –ò –≠–§–§–ï–ö–¢–ê–ú–ò === */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 32px;
      margin: 40px auto;
    }

    .product-card {
      background: white;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      cursor: pointer;
      position: relative;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .product-card:hover {
      transform: translateY(-12px) scale(1.02);
      box-shadow: var(--shadow-deep);
    }

    .card-img-wrapper {
      position: relative;
      height: 180px;
      overflow: hidden;
    }

    .card-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .product-card:hover .card-img {
      transform: scale(1.08);
    }

    /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ */
    .card-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 50%;
      background: linear-gradient(to top, rgba(0,0,0,0.6), transparent);
      display: flex;
      align-items: flex-end;
      padding: 12px 16px;
    }

    .card-badge {
      background: var(--grad-teal);
      color: white;
      font-size: 12px;
      font-weight: 600;
      padding: 4px 10px;
      border-radius: 20px;
      letter-spacing: 0.5px;
    }

    .card-content {
      padding: 20px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .card-title {
      font-family: 'Poppins', sans-serif;
      font-size: 18px;
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 10px;
    }

    .card-desc {
      font-size: 14px;
      color: #64748b;
      margin-bottom: 16px;
      flex: 1;
    }

    .card-price {
      font-family: 'Poppins', sans-serif;
      font-weight: 700;
      font-size: 20px;
      background: var(--grad-orange);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin: 8px 0;
    }

    .card-btn {
      background: var(--grad-blue);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 10px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-top: auto;
    }

    .card-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(67, 97, 238, 0.4);
    }

    /* === –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û ‚Äî –Ø–†–ö–û–ï –ò –ì–õ–ê–î–ö–û–ï === */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.75);
      backdrop-filter: blur(4px);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .modal-content {
      background: white;
      border-radius: 20px;
      width: 100%;
      max-width: 850px;
      max-height: 90vh;
      overflow: hidden;
      box-shadow: 0 20px 50px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }

    .modal-header {
      background: var(--grad-purple);
      color: white;
      padding: 20px 24px;
      position: relative;
    }

    .modal-title {
      font-family: 'Poppins', sans-serif;
      font-size: 26px;
      font-weight: 700;
      margin: 0;
    }

    .close-modal {
      position: absolute;
      top: 16px;
      right: 16px;
      background: rgba(255,255,255,0.2);
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      color: white;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
    }

    .close-modal:hover {
      background: rgba(255,255,255,0.3);
      transform: rotate(90deg);
    }

    .carousel {
      position: relative;
      height: 320px;
      background: #f8fafc;
    }

    .carousel-track {
      display: flex;
      height: 100%;
      transition: transform 0.5s cubic-bezier(0.65, 0, 0.35, 1);
    }

    .carousel-slide {
      min-width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .carousel-slide img {
      max-width: 100%;
      max-height: 280px;
      object-fit: contain;
      border-radius: 12px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.1);
    }

    .carousel-nav {
      position: absolute;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      padding: 0 20px;
      transform: translateY(-50%);
    }

    .carousel-btn {
      background: white;
      color: #4361ee;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      border: 2px solid #4361ee;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(67, 97, 238, 0.2);
      transition: all 0.3s;
    }

    .carousel-btn:hover {
      background: #4361ee;
      color: white;
      transform: scale(1.1);
    }

    .modal-body {
      padding: 28px;
      flex: 1;
      overflow-y: auto;
    }

    .modal-desc {
      font-size: 16px;
      color: #334155;
      line-height: 1.7;
      white-space: pre-line;
      margin-bottom: 24px;
    }

    .modal-price {
      font-family: 'Poppins', sans-serif;
      font-size: 28px;
      font-weight: 700;
      background: var(--grad-orange);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin: 16px 0;
    }

    .modal-buy-btn {
      background: var(--grad-teal);
      color: white;
      border: none;
      padding: 16px;
      font-size: 18px;
      font-weight: 600;
      border-radius: 12px;
      cursor: pointer;
      width: 100%;
      transition: all 0.3s;
      font-family: 'Poppins', sans-serif;
      box-shadow: 0 6px 16px rgba(76, 201, 160, 0.3);
    }

    .modal-buy-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 24px rgba(76, 201, 160, 0.5);
    }

    /* === –ö–û–†–ó–ò–ù–ê === */
    .cart-container {
      position: relative;
    }

    .cart-btn {
      background: white;
      border: none;
      width: 52px;
      height: 52px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(247, 147, 30, 0.25);
      transition: all 0.3s;
    }

    .cart-btn:hover {
      transform: scale(1.08);
      box-shadow: 0 6px 16px rgba(247, 147, 30, 0.4);
    }

    .cart-btn svg {
      color: #ff6b35;
      stroke-width: 1.8;
    }

    .cart-count {
      position: absolute;
      top: -6px;
      right: -6px;
      background: var(--grad-orange);
      color: white;
      font-size: 11px;
      font-weight: 700;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    /* –í—ã–ø–∞–¥–∞—é—â–∞—è –∫–æ—Ä–∑–∏–Ω–∞ */
    .cart-dropdown {
      position: absolute;
      top: 64px;
      right: 0;
      width: 340px;
      background: white;
      border-radius: 16px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.15);
      overflow: hidden;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      z-index: 100;
    }

    .cart-container:hover .cart-dropdown,
    .cart-dropdown:hover {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 20px;
      background: #f8fafc;
      border-bottom: 1px solid #e2e8f0;
    }

    .cart-header h3 {
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      color: #2d3748;
      font-size: 18px;
      margin: 0;
    }

    .clear-btn {
      background: none;
      border: none;
      color: #94a3b8;
      font-size: 16px;
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 6px;
    }

    .clear-btn:hover {
      background: #e2e8f0;
      color: #64748b;
    }

    .cart-items {
      max-height: 240px;
      overflow-y: auto;
      padding: 12px 0;
    }

    .cart-empty {
      text-align: center;
      color: #94a3b8;
      padding: 24px 16px;
      margin: 0;
    }

    .cart-item {
      display: flex;
      padding: 12px 20px;
      border-bottom: 1px solid #f1f5f9;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .cart-item-info {
      flex: 1;
      font-size: 14px;
      color: #334155;
    }

    .cart-item-title {
      font-weight: 600;
      margin-bottom: 4px;
    }

    .cart-item-price {
      font-size: 13px;
      color: #64748b;
    }

    .cart-item-qty {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-top: 4px;
    }

    .minus-btn, .plus-btn {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      background: #e2e8f0;
      border: none;
      font-size: 14px;
      font-weight: bold;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .minus-btn:hover { background: #cbd5e1; }
    .plus-btn:hover { background: var(--grad-orange); color: white; }

    .cart-item-qty span {
      min-width: 20px;
      text-align: center;
      font-weight: 600;
    }

    .remove-btn {
      color: #ef4444;
      background: none;
      border: none;
      font-size: 18px;
      cursor: pointer;
      margin-left: 8px;
      opacity: 0.6;
    }

    .remove-btn:hover {
      opacity: 1;
      color: #dc2626;
    }

    .cart-footer {
      padding: 16px 20px;
      background: #f8fafc;
      border-top: 1px solid #e2e8f0;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .cart-total {
      font-weight: 600;
      color: #2d3748;
      font-size: 16px;
      text-align: right;
    }

    .checkout-btn {
      background: var(--grad-teal);
      color: white;
      border: none;
      padding: 12px;
      border-radius: 10px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s;
      width: 100%;
    }

    .checkout-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(76, 201, 160, 0.4);
    }

    /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è */
    .cart-count.animated {
      animation: bounce 0.5s;
    }

    @keyframes bounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.3); }
    }

    /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
    @media (max-width: 768px) {
      header h1 { font-size: 28px; }
      header p { font-size: 16px; }
      .products-grid { grid-template-columns: 1fr; }
      .modal-content { max-width: 100%; }
      .carousel { height: 240px; }
      .carousel-slide img { max-height: 200px; }
    }
  </style>
</head>
<body>

  <header>
    <div class="container" style="display: flex; justify-content: space-between; align-items: center; position: relative;">
      <div>
        <h1>‚ú® Nadezhda Miller</h1>
        <p>Certified English Tutor | Playful & Effective Flashcards</p>
      </div>

      <!-- ‚úÖ –ö–ù–û–ü–ö–ê –ö–û–†–ó–ò–ù–´ -->
      <div class="cart-container">
        <button id="cartBtn" class="cart-btn" aria-label="Cart">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="9" cy="21" r="1"/>
            <circle cx="20" cy="21" r="1"/>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
          </svg>
          <span class="cart-count">0</span>
        </button>

        <!-- ‚úÖ –ú–ò–ù–ò-–ö–û–†–ó–ò–ù–ê -->
        <div id="cartDropdown" class="cart-dropdown">
          <div class="cart-header">
            <h3>Your Cart</h3>
            <button id="clearCartBtn" class="clear-btn">‚úï Clear</button>
          </div>
          <div class="cart-items" id="cartItems">
            <p class="cart-empty">Your cart is empty üõçÔ∏è</p>
          </div>
          <div class="cart-footer">
            <div class="cart-total">Total: <strong id="cartTotalPrice">$0.00</strong></div>
            <button class="checkout-btn" id="checkoutBtn">üõí Checkout</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="products-grid">

      <!-- Flashcards: Clothes -->
      <div class="product-card" data-product="1">
        <div class="card-img-wrapper">
          <img src="1.png" alt="Clothes Flashcards" class="card-img">
          <div class="card-overlay">
            <span class="card-badge">Go Getter 2</span>
          </div>
        </div>
        <div class="card-content">
          <div class="card-title">Clothes Flashcards</div>
          <div class="card-desc">32 illustrated cards: T-shirt, dress, shoes, hat ‚Äî perfect for role-play & games!</div>
          <div class="card-price">$9.99</div>
          <button class="card-btn">‚ûï Add to Cart</button>
        </div>
      </div>

      <!-- Flashcards: Action Verbs -->
      <div class="product-card" data-product="2">
        <div class="card-img-wrapper">
          <img src="2.png" alt="Action Verbs Flashcards" class="card-img">
          <div class="card-overlay">
            <span class="card-badge">Go Getter 2</span>
          </div>
        </div>
        <div class="card-content">
          <div class="card-title">Action Verbs Flashcards</div>
          <div class="card-desc">36 dynamic verbs: run, jump, eat, draw ‚Äî ideal for TPR & storytelling!</div>
          <div class="card-price">$10.99</div>
          <button class="card-btn">‚ûï Add to Cart</button>
        </div>
      </div>

      <!-- Flashcards: Inside the House -->
      <div class="product-card" data-product="3">
        <div class="card-img-wrapper">
          <img src="3.png" alt="Inside the House Flashcards" class="card-img">
          <div class="card-overlay">
            <span class="card-badge">Go Getter 2</span>
          </div>
        </div>
        <div class="card-content">
          <div class="card-title">Inside the House Flashcards</div>
          <div class="card-desc">34 home items: sofa, fridge, window, bed ‚Äî great for ‚ÄòWhere is it?‚Äô games!</div>
          <div class="card-price">$10.49</div>
          <button class="card-btn">‚ûï Add to Cart</button>
        </div>
      </div>

    </div>
  </main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
  <div class="modal" id="productModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">Product Title</h2>
        <button class="close-modal" id="closeModal">&times;</button>
      </div>

      <div class="carousel">
        <div class="carousel-track" id="carouselTrack">
          <div class="carousel-slide">
            <img src="https://via.placeholder.com/600x300/f0f9ff/333?text=Preview+1" alt="Slide">
          </div>
        </div>
        <div class="carousel-nav">
          <button class="carousel-btn" id="prevBtn">‚Äπ</button>
          <button class="carousel-btn" id="nextBtn">‚Ä∫</button>
        </div>
      </div>

      <div class="modal-body">
        <div class="modal-desc" id="modalDesc">Description here.</div>
        <div class="modal-price" id="modalPrice">$0.00</div>
        <button class="modal-buy-btn" onclick="alert('üõí Ready for your payment link!');">
          üõí Buy Now ‚Äî Instant Download
        </button>
      </div>
    </div>
  </div>

  <script>
    // === –î–ê–ù–ù–´–ï –¢–û–í–ê–†–û–í ===
    const products = {
      1: {
        title: "Clothes Flashcards ‚Äî Go Getter 2 ¬∑ Unit: Get Started",
        price: "$9.99",
        description: "32 professionally illustrated flashcards for teaching clothing vocabulary (ages 7‚Äì10).\n" +
                     "‚úÖ Words: T-shirt, dress, jeans, socks, shoes, hat, coat, scarf, gloves\n" +
                     "‚úÖ Formats: PDF (printable A4, 4 cards/page) + PNG (digital use)\n" +
                     "‚úÖ Bonus: 3 game ideas ‚Äî Memory Match, Dress-Up Charades, Fashion Show!\n" +
                     "‚úÖ Aligns with Go Getter 2 Unit ‚ÄòGet Started‚Äô\n" +
                     "‚úÖ ESL-tested ‚Äî high retention & engagement!",
        images: [
          "https://images.unsplash.com/photo-1523381210127-73e0f965ab3a?auto=format&fit=crop&w=600&h=400&q=80",
          "https://images.unsplash.com/photo-1583744901192-f8b338281620?auto=format&fit=crop&w=600&h=400&q=80",
          "https://images.unsplash.com/photo-1582142298552-786d64142189?auto=format&fit=crop&w=600&h=400&q=80"
        ]
      },
      2: {
        title: "Action Verbs Flashcards ‚Äî Go Getter 2 ¬∑ Unit: Get Started",
        price: "$10.99",
        description: "36 vibrant flashcards to teach essential action verbs through movement & fun!\n" +
                     "‚úÖ Verbs: run, jump, eat, drink, draw, write, read, sleep, dance, sing, swim, climb\n" +
                     "‚úÖ Each card: clear action illustration + bold word + infinitive form\n" +
                     "‚úÖ Formats: Print-ready PDF + PNG (for Zoom, tablets, interactive boards)\n" +
                     "‚úÖ Bonus: Sentence frames (‚ÄòHe/She is ___ing‚Äô) + TPR activity guide\n" +
                     "‚úÖ Perfect for energising lessons & boosting speaking confidence!",
        images: [
          "https://images.unsplash.com/photo-1543269865-cbf427effbad?auto=format&fit=crop&w=600&h=400&q=80",
          "https://images.unsplash.com/photo-1517486886128-b6a0541b1a9a?auto=format&fit=crop&w=600&h=400&q=80",
          "https://images.unsplash.com/photo-1544256718-3bcf237f3974?auto=format&fit=crop&w=600&h=400&q=80"
        ]
      },
      3: {
        title: "Inside the House Flashcards ‚Äî Go Getter 2 ¬∑ Unit: Get Started",
        price: "$10.49",
        description: "34 flashcards covering home vocabulary ‚Äî ideal for ‚ÄòWhere is it?‚Äô and prepositions practice.\n" +
                     "‚úÖ Rooms & objects: kitchen, sofa, fridge, window, bed, lamp, table, mirror, rug\n" +
                     "‚úÖ Warm, realistic illustrations for instant recognition\n" +
                     "‚úÖ Formats: PDF (print double-sided) + PNG (drag & drop in digital lessons)\n" +
                     "‚úÖ Bonus: ‚ÄòMy Dream House‚Äô worksheet + matching quiz (with answer key)\n" +
                     "‚úÖ Tested with A1 learners ‚Äî sparks curiosity and spontaneous speech!",
        images: [
          "https://images.unsplash.com/photo-1502461018609-3e0b11c2c474?auto=format&fit=crop&w=600&h=400&q=80",
          "https://images.unsplash.com/photo-1584622650111-993a426fb181?auto=format&fit=crop&w=600&h=400&q=80",
          "https://images.unsplash.com/photo-1554995259-94a5fc1f9f8f?auto=format&fit=crop&w=600&h=400&q=80"
        ]
      }
    };

    // === –ò–ù–¢–ï–†–§–ï–ô–° –ú–û–î–ê–õ–¨–ù–û–ì–û –û–ö–ù–ê (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) ===
    const modal = document.getElementById('productModal');
    const closeModalBtn = document.getElementById('closeModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const modalPrice = document.getElementById('modalPrice');
    const carouselTrack = document.getElementById('carouselTrack');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    let currentProduct = null;
    let currentSlideIndex = 0;

    document.querySelectorAll('.product-card').forEach(card => {
      card.addEventListener('click', () => {
        const id = card.getAttribute('data-product');
        openModal(id);
      });
    });

    function openModal(productId) {
      const product = products[productId];
      if (!product) return;

      currentProduct = productId;
      currentSlideIndex = 0;

      modalTitle.textContent = product.title;
      modalDesc.textContent = product.description;
      modalPrice.textContent = product.price;

      carouselTrack.innerHTML = '';
      product.images.forEach(imgUrl => {
        const slide = document.createElement('div');
        slide.classList.add('carousel-slide');
        slide.innerHTML = `<img src="${imgUrl}" alt="Flashcard preview">`;
        carouselTrack.appendChild(slide);
      });

      modal.style.display = 'flex';
      document.body.style.overflow = 'hidden';
      updateCarousel();
    }

    function closeModal() {
      modal.style.display = 'none';
      document.body.style.overflow = 'auto';
    }

    closeModalBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
      if (e.target === modal) closeModal();
    });

    function updateCarousel() {
      carouselTrack.style.transform = `translateX(${-currentSlideIndex * 100}%)`;
    }

    prevBtn.addEventListener('click', () => {
      if (currentSlideIndex > 0) {
        currentSlideIndex--;
        updateCarousel();
      }
    });

    nextBtn.addEventListener('click', () => {
      const total = products[currentProduct].images.length;
      if (currentSlideIndex < total - 1) {
        currentSlideIndex++;
        updateCarousel();
      }
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.style.display === 'flex') {
        closeModal();
      }
    });

    // === –ö–û–†–ó–ò–ù–ê ===
    let cart = JSON.parse(localStorage.getItem('flashcardCart')) || [];

    function saveCart() {
      localStorage.setItem('flashcardCart', JSON.stringify(cart));
      updateCartUI();
    }

    function updateCartUI() {
      const countEl = document.querySelector('.cart-count');
      const itemsEl = document.getElementById('cartItems');
      const totalEl = document.getElementById('cartTotalPrice');

      const totalCount = cart.reduce((sum, item) => sum + item.quantity, 0);
      countEl.textContent = totalCount;
      if (totalCount > 0) countEl.classList.add('animated');
      setTimeout(() => countEl.classList.remove('animated'), 600);

      if (cart.length === 0) {
        itemsEl.innerHTML = '<p class="cart-empty">Your cart is empty üõçÔ∏è</p>';
      } else {
        itemsEl.innerHTML = cart.map(item => {
          const product = products[item.id];
          return `
            <div class="cart-item">
              <div class="cart-item-info">
                <div class="cart-item-title">${product.title.split(' ‚Äî ')[0]}</div>
                <div class="cart-item-price">${product.price}</div>
                <div class="cart-item-qty">
                  <button class="minus-btn" data-id="${item.id}">‚àí</button>
                  <span>${item.quantity}</span>
                  <button class="plus-btn" data-id="${item.id}">+</button>
                </div>
              </div>
              <button class="remove-btn" data-id="${item.id}">√ó</button>
            </div>
          `;
        }).join('');

        document.querySelectorAll('.minus-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const id = Number(e.target.dataset.id);
            const item = cart.find(x => x.id === id);
            if (item && item.quantity > 1) {
              item.quantity--;
              saveCart();
            } else if (item && item.quantity === 1) {
              cart = cart.filter(x => x.id !== id);
              saveCart();
            }
          });
        });

        document.querySelectorAll('.plus-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const id = Number(e.target.dataset.id);
            const item = cart.find(x => x.id === id);
            if (item) {
              item.quantity++;
              saveCart();
            }
          });
        });

        document.querySelectorAll('.remove-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const id = Number(e.target.dataset.id);
            cart = cart.filter(x => x.id !== id);
            saveCart();
          });
        });
      }

      const total = cart.reduce((sum, item) => {
        const price = parseFloat(products[item.id].price.replace('$', ''));
        return sum + price * item.quantity;
      }, 0);
      totalEl.textContent = `$${total.toFixed(2)}`;
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    updateCartUI();

    // –ö–Ω–æ–ø–∫–∏ "Add to Cart"
    document.querySelectorAll('.card-btn').forEach(btn => {
      const card = btn.closest('.product-card');
      const id = Number(card.getAttribute('data-product'));
      btn.onclick = (e) => {
        e.stopPropagation();
        const existing = cart.find(item => item.id === id);
        if (existing) {
          existing.quantity++;
        } else {
          cart.push({ id, quantity: 1 });
        }
        saveCart();
        btn.innerHTML = '‚úì Added!';
        setTimeout(() => {
          btn.innerHTML = '‚ûï Add to Cart';
        }, 1500);
      };
    });

    // –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
    document.getElementById('clearCartBtn').addEventListener('click', () => {
      cart = [];
      saveCart();
    });

    // Checkout
    document.getElementById('checkoutBtn').addEventListener('click', () => {
      if (cart.length === 0) {
        alert('üõí Your cart is empty!');
        return;
      }
      const items = cart.map(item => {
        const p = products[item.id];
        return `${p.title.split(' ‚Äî ')[0]} √ó ${item.quantity}`;
      }).join('\n');
      const total = parseFloat(document.getElementById('cartTotalPrice').textContent.replace('$', ''));
      alert(`üõí Ready to checkout!\n\nItems:\n${items}\n\nTotal: $${total.toFixed(2)}\n\nüëâ In production, this would open Gumroad/Stripe.`);
    });
  </script>

</body>
</html>